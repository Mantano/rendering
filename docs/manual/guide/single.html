<html>
	<head>
		  <title>pdf 0.4 - Reference Documentation</title>
		  <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Style" charset="utf-8">	
	</head>
    <body class="body">
		<div id="header">
				<div class="images"><br><br>
				   <a href="http://grails.org"  target="_blank"><img alt="The Grails Framework" src="../img/grails.png" border="0"></a>
				   <span style="right:30px; top:20px; position:absolute;">
					<a href="../index.html" target="_top">Frames</a> | <a href="index.html" target="_top">No Frames</a><br><br>
                     <a alt="SpringSource - A Division of VMware" href="http://springsource.com" target="_blank"><img src="../img/springsource-logo.png" border="0"></a>					
					</span>					
				</div>
				<div class="message">pdf</div>
				<h1>pdf - Reference Documentation</h1>
				<p><strong>Authors:</strong> </p>
				<p><strong>Version:</strong> 0.4</p>				
				<em></em>
		</div>                       
		
		<div id="toc">  
			<h2>Table of Contents</h2>
			<div class="tocItem" style="margin-left:0px"><a href="#1. Introduction">1. Introduction</a></div><div class="tocItem" style="margin-left:0px"><a href="#2. Writing PDF GSPs">2. Writing PDF GSPs</a></div>
		</div>     
		<div id="content">
			<h1><a name="1. Introduction">1. Introduction</a></h1>This plugin adds PDF rendering facilities to Grails applications via the <a href="https://xhtmlrenderer.dev.java.net/">Flying Saucer XHTML Renderer</a> library.<p class="paragraph"/>Rendering is either done directly via the <code>pdfRenderingService</code> ...<p class="paragraph"/><div class="code"><pre>ByteArrayOutputStream bytes = pdfRenderingService.render(template: <span class="java&#45;quote">"/pdfs/report"</span>, model: &#91;data: data&#93;)</pre></div><p class="paragraph"/>Or via the <code>renderPdf()</code> method added to controllers ...<p class="paragraph"/><div class="code"><pre>renderPdf(template: <span class="java&#45;quote">"/pdfs/report"</span>, model: &#91;report: reportObject&#93;, filename: reportObject.name)</pre></div><h1><a name="2. Writing PDF GSPs">2. Writing PDF GSPs</a></h1>There are a few things that you do need to be aware of when writing GSPs to be rendered as PDF.<p class="paragraph"/><h3>Links must be absolute</h3><p class="paragraph"/>All links to resources (e.g. images, css) must be absolute and accessible by the application. This is due to the XHTML being parsed by the Flying Saucer library and not a browser, therefore relative links cannot be resolved.<p class="paragraph"/>The standard Grails <code>resource</code>  and <code>createLink</code> tags support creating absolute links by specifying <code>absolute: true</code> .<p class="paragraph"/><h3>Must be well formed</h3><p class="paragraph"/>The GSP must render to well formed, valid, XHTML. If it does not, a <code>grails.plugin.pdf.XmlParseException</code> will be thrown.<p class="paragraph"/><h3>Must declare DOCTYPE</h3><p class="paragraph"/>Without a doctype, you are likely to get parse failures due to unresolvable entity references. Be sure to declare the XHTML doctype at the start of your GSP like so ...<p class="paragraph"/><div class="code"><pre>&#60;!DOCTYPE html PUBLIC <span class="java&#45;quote">"&#45;//W3C//DTD XHTML 1.0 Strict//EN"</span>
 <span class="java&#45;quote">"http://www.w3.org/TR/xhtml1/DTD/xhtml1&#45;strict.dtd"</span>&#62;</pre></div>         			
		</div>
		<div id="footer">
			  
		</div>	
	</body>
</html>